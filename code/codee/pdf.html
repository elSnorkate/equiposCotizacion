<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pdf</title>
    <link rel="stylesheet" href="pdf_styles.css">
</head>
<body>
    <div class="title-with-image">
    <h1>Cotizacion Suministros 2023-28</h1>
    <img src="../media/img/1.png" alt="logo">
    </div>
    <table style="border: hidden;">
    <tr style="border: hidden;">
        <td><strong>Cliente:</strong></td>
        <td style="border: hidden;"><span style="color: black;" id="clienteInput"></span></td>
    </tr>
    <tr style="border: hidden;">
        <td><strong>Fecha de inicio de cotizacion:</strong></td>
        <td style="border: hidden;"><span id="inicioInput"></span></td>
    </tr>
    <tr style="border: hidden;">
        <td><strong>Fecha de fin de cotizacion:</strong></td>
        <td style="border: hidden;"><span id="vencimientoInput"></span></td>
    </tr>
    </table>
<br> <br>
    <div class="container">
        <table class="table1">
          <thead>
            <tr>
              <th colspan="2" style="background-color: #2783C5; color: white; border-top-right-radius: 45px; border-top: none; border-left: none; border-right: none;">Concepto</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td> ðŸŸ   <span id="conceptos_1"></span></td>
            </tr>
            <tr>
              <td>ðŸŸ   <span id="conceptos_2"></span></td>
            </tr>
            <tr>
              <td>ðŸŸ   <span id="conceptos_3"></span></td>
            </tr>
            <tr>
              <td >ðŸŸ   <span id="conceptos_4"></span></td>
            </tr>
            <tr>
              <td>ðŸŸ   <span id="conceptos_5"></span></td>
            </tr>
            <tr>
              <td>ðŸŸ   <span id="conceptos_6"></span></td>
            </tr>
            <tr>

            </tr>
            <tr>
              <td  class="excep">SUB-TOTAL :</td>
            </tr>
            <tr>
              <td class="excep" id="descuentos">Descuentos :</td>
            </tr>
            <tr>
              <td class="excep" style="border: none; border-bottom: none; border-top-left-radius: 10px; border-bottom-right-radius: 10px;">TOTAL :</td>
            </tr>
          </tbody>
        </table>
      
        <table class="table2">
          <thead>
            <tr>
              <th style="background-color: #2783C5; color: white; border-top-left-radius: 45px; border-top: none; border-left: none; border-right: none;">Precio</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>S/.<span id="precio1"></span></td>
            </tr>
            <tr>
              <td>S/.<span id="precio2"></span></td>
            </tr>
            <tr>
              <td>S/.<span id="precio3"></span></td>
            </tr>
            <tr>
              <td>S/.<span id="precio4"></span></td>
            </tr>
            <tr>
              <td>S/.<span id="precio5"></span></td>
            </tr>
            <tr>
              <td>S/.<span id="precio6"></span></td>
            </tr>
            <tr>
              
            </tr>
            <tr>
              <td>S/.<span id="subtotal"></span></td>
            </tr>
            <tr>
              <td style="color: red;">S/.<span id="descuentoInput"></span></td>
            </tr>
            <tr>
              <td id="total" style="color: white; background-color: #2783C5; border-bottom-right-radius: 45px; border-bottom: none; border-left: none; border-right: none;">S/.<span id="totalInput"></span></td>
            </tr>
          </tbody>
        </table>
      </div>
</body>
</html>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.4.0/jspdf.umd.min.js"></script>
<script>
  function getQueryParams(url) {
    var params = {};
    var parser = document.createElement('a');
    parser.href = url;
    var query = parser.search.substring(1);
    var vars = query.split('&');
    for (var i = 0; i < vars.length; i++) {
      var pair = vars[i].split('=');
      params[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1]);
    }
    return params;
  }

  var queryParams = getQueryParams(window.location.href);

  document.getElementById('clienteInput').textContent = queryParams.clienteInput || '';
  document.getElementById('inicioInput').textContent = queryParams.inicioInput || '';
  document.getElementById('vencimientoInput').textContent = queryParams.vencimientoInput || '';
  document.getElementById('conceptos_1').textContent = queryParams.conceptos_1 || '';
  document.getElementById('conceptos_2').textContent = queryParams.conceptos_2 || '';
  document.getElementById('conceptos_3').textContent = queryParams.conceptos_3 || '';
  document.getElementById('conceptos_4').textContent = queryParams.conceptos_4 || '';
  document.getElementById('conceptos_5').textContent = queryParams.conceptos_5 || '';
  document.getElementById('conceptos_6').textContent = queryParams.conceptos_6 || '';
  document.getElementById('precio1').textContent = queryParams.precio1 || '';
  document.getElementById('precio2').textContent = queryParams.precio2 || '';
  document.getElementById('precio3').textContent = queryParams.precio3 || '';
  document.getElementById('precio4').textContent = queryParams.precio4 || '';
  document.getElementById('precio5').textContent = queryParams.precio5 || '';
  document.getElementById('precio6').textContent = queryParams.precio6 || '';
  document.getElementById('descuentoInput').textContent = queryParams.descuentoInput || '';

  // Calculate Subtotal
  var subtotal = parseFloat(queryParams.precio1 || 0) +
    parseFloat(queryParams.precio2 || 0) +
    parseFloat(queryParams.precio3 || 0) +
    parseFloat(queryParams.precio4 || 0) +
    parseFloat(queryParams.precio5 || 0) +
    parseFloat(queryParams.precio6 || 0);

  document.getElementById('subtotal').textContent = subtotal.toFixed(2);

  // Apply Discount and Calculate Total
  var discount = parseFloat(queryParams.descuentoInput || 0);
  var total = subtotal - discount;

  document.getElementById('descuentos').textContent = 'Descuentos: ' + discount.toFixed(2);
  document.getElementById('totalInput').textContent = total.toFixed(2);


function addRow() {
  // Get the new input value.
  var newInputValue = document.getElementById('containerDiv') = queryParams.containerDiv || '';
  // Create a new row.
  var newRow = document.createElement("tr");
  // Add the new input value to the new row.
  var newCell = document.createElement("td");
  newCell.innerHTML = newInputValue;
  newRow.appendChild(newCell);
  // Add the new row to the table.
  var table = document.getElementById("my-table");
  table.appendChild(newRow);
}
</script>

